import{j as e,P as d,B as a,T as t,G as h,u as W,a as A,R as c,b as x,C,S as P,c as u,d as j}from"./index-BFYNvTm_.js";const p=({BodyConfig:s})=>e.jsxs(d,{sx:{display:"flex",flexDirection:"column",p:4,gap:4,my:2},elevation:3,children:[e.jsxs(a,{children:[s.id&&e.jsxs(t,{variant:"outlined",children:["ID: ",s.id]}),e.jsx(t,{variant:"h5",sx:{my:2,fontWeight:600},children:s.title}),e.jsx(t,{sx:{overflowWrap:"anywhere"},children:s.content})]}),s.code&&e.jsxs(a,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"コード"}),e.jsx(d,{variant:"outlined",sx:{whiteSpace:"pre-wrap",overflow:"auto",p:1},children:s.code})]}),s.images_path.length>0&&e.jsxs(a,{children:[e.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"画像"}),e.jsx(h,{container:!0,spacing:2,children:s.images_path.map((o,i)=>e.jsx(h,{size:{xs:6,sm:4,md:3},children:e.jsx("iframe",{src:o,className:"w-full h-[250px]"})},i))})]})]}),T=()=>{const s=W(),i=A().state,[l,f]=c.useState(null),[m,g]=c.useState(!1),[y,w]=c.useState(i),[v,S]=c.useState(!!i),b=x("getallanswers",s.id),D=x("getquestionbyid",s.id);return c.useEffect(()=>{console.log("Welcome to GDGoC TMU. Now loading..."),(async()=>{const n=await j(b);g(!0),f(n),console.log("Fetching successfully completed.")})()},[]),c.useEffect(()=>{i||(async()=>{const n=await j(D);S(!0),w(n)})()},[]),e.jsxs(C,{children:[e.jsxs(a,{sx:{my:3},children:[e.jsx(t,{variant:"h6",sx:{mb:1,fontWeight:600},children:"質問"}),e.jsx(t,{variant:"body2",color:"textSecondary",children:"Powered by GDGoC TMU"})]}),e.jsxs(P,{children:[v?e.jsx(p,{BodyConfig:y}):e.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:e.jsx(u,{})}),m?l.length>0?l.map((r,n)=>{const G={title:"回答"+(n+1),content:r.content,code:r.code,images_path:r.images_path};return e.jsx(p,{BodyConfig:G},n)}):e.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:e.jsx(t,{children:"まだ回答はありません"})}):e.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:e.jsx(u,{})})]})]})};export{T as default};
