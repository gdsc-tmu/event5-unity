import{j as s,P as d,B as a,T as t,N as h,e as q,f as A,h as C,R as c,k as x,C as N,n as P,S as Q,q as u,a4 as R,t as j}from"./index-CYl-GXTe.js";const m=({BodyConfig:e})=>s.jsxs(d,{sx:{display:"flex",flexDirection:"column",p:4,gap:4,my:2},elevation:3,children:[s.jsxs(a,{children:[e.id&&s.jsxs(t,{variant:"outlined",children:["ID: ",e.id]}),s.jsx(t,{variant:"h5",sx:{my:2,fontWeight:600},children:e.title}),s.jsx(t,{sx:{overflowWrap:"anywhere"},children:e.content})]}),e.code&&s.jsxs(a,{children:[s.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"コード"}),s.jsx(d,{variant:"outlined",sx:{whiteSpace:"pre-wrap",overflow:"auto",p:1},children:e.code})]}),e.images_path.length>0&&s.jsxs(a,{children:[s.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"画像"}),s.jsx(h,{container:!0,spacing:2,children:e.images_path.map((r,i)=>s.jsx(h,{size:{xs:6,sm:4,md:3},children:s.jsx("iframe",{src:r,className:"w-full h-[250px]"})},i))})]})]}),_=()=>{const e=q(),i=A().state,p=C(),[l,f]=c.useState(null),[g,y]=c.useState(!1),[v,w]=c.useState(i),[S,D]=c.useState(!!i),b=x("getallanswers",e.id),G=x("getquestionbyid",e.id);return c.useEffect(()=>{console.log("Welcome to GDGoC TMU. Now loading..."),(async()=>{const n=await j(b);y(!0),f(n),console.log("Fetching successfully completed.")})()},[]),c.useEffect(()=>{i||(async()=>{const n=await j(G);D(!0),w(n)})()},[]),s.jsxs(N,{children:[s.jsxs(a,{sx:{my:3},children:[s.jsx(P,{variant:"outlined",size:"small",sx:{my:2},onClick:()=>p("/questions"),children:"質問一覧へ"}),s.jsxs(a,{sx:{ml:1},children:[s.jsx(t,{variant:"h6",sx:{mb:1,fontWeight:600},children:"質問"}),s.jsx(t,{variant:"body2",color:"textSecondary",children:"Powered by GDGoC TMU"})]})]}),s.jsxs(Q,{children:[S?s.jsx(m,{BodyConfig:v}):s.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:s.jsx(u,{})}),g?l.length>0?l.map((o,n)=>{const W={title:"回答"+(n+1),content:o.content,code:o.code,images_path:o.images_path};return s.jsx(m,{BodyConfig:W},n)}):s.jsx(R,{children:"まだ回答はありません"}):s.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:s.jsx(u,{})})]})]})};export{_ as default};
