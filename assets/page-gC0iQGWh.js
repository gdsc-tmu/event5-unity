import{j as e,i as d,g as t,T as a,G as x,k as A,l as C,m as q,R as i,n as h,f as P,B as Q,b as T,h as u,o as j}from"./index-BGmU9SRJ.js";const m=({BodyConfig:s})=>e.jsxs(d,{sx:{display:"flex",flexDirection:"column",p:4,gap:4,my:2},elevation:3,children:[e.jsxs(t,{children:[s.id&&e.jsxs(a,{variant:"outlined",children:["ID: ",s.id]}),e.jsx(a,{variant:"h5",sx:{my:2,fontWeight:600},children:s.title}),e.jsx(a,{sx:{overflowWrap:"anywhere"},children:s.content})]}),s.code&&e.jsxs(t,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:600,mb:1},children:"コード"}),e.jsx(d,{variant:"outlined",sx:{whiteSpace:"pre-wrap",overflow:"auto",p:1},children:s.code})]}),s.images_path.length>0&&e.jsxs(t,{children:[e.jsx(a,{variant:"h6",sx:{fontWeight:600,mb:1},children:"画像"}),e.jsx(x,{container:!0,spacing:2,children:s.images_path.map((r,c)=>e.jsx(x,{size:{xs:6,sm:4,md:3},children:e.jsx("iframe",{src:r,className:"w-full h-[250px]"})},c))})]})]}),k=()=>{const s=A(),c=C().state,p=q(),[l,f]=i.useState(null),[g,y]=i.useState(!1),[w,v]=i.useState(c),[b,D]=i.useState(!!c),S=h("getallanswers",s.id),G=h("getquestionbyid",s.id);return i.useEffect(()=>{console.log("Welcome to GDGoC TMU. Now loading..."),(async()=>{const n=await j(S);y(!0),f(n),console.log("Fetching successfully completed.")})()},[]),i.useEffect(()=>{c||(async()=>{const n=await j(G);D(!0),v(n)})()},[]),e.jsxs(P,{children:[e.jsxs(t,{sx:{my:3},children:[e.jsx(Q,{variant:"outlined",size:"small",sx:{my:2},onClick:()=>p("/questions"),children:"質問一覧へ"}),e.jsxs(t,{sx:{ml:1},children:[e.jsx(a,{variant:"h6",sx:{mb:1,fontWeight:600},children:"質問"}),e.jsx(a,{variant:"body2",color:"textSecondary",children:"Powered by GDGoC TMU"})]})]}),e.jsxs(T,{children:[b?e.jsx(m,{BodyConfig:w}):e.jsx(t,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:e.jsx(u,{})}),g?l.length>0?l.map((o,n)=>{const W={title:"回答"+(n+1),content:o.content,code:o.code,images_path:o.images_path};return e.jsx(m,{BodyConfig:W},n)}):e.jsx(t,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:e.jsx(a,{children:"まだ回答はありません"})}):e.jsx(t,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:e.jsx(u,{})})]})]})};export{k as default};
