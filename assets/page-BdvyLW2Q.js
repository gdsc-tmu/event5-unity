import{j as s,P as d,B as a,l as t,G as x,A as W,D as N,E as P,R as c,z as h,w as q,F as C,S as E,x as u,N as Q,y as j}from"./index-CGkVKlC9.js";const m=({BodyConfig:e})=>s.jsxs(d,{sx:{display:"flex",flexDirection:"column",p:4,gap:4,my:2},elevation:3,children:[s.jsxs(a,{children:[e.id&&s.jsxs(t,{variant:"outlined",children:["ID: ",e.id]}),s.jsx(t,{variant:"h5",sx:{my:2,fontWeight:600},children:e.title}),s.jsx(t,{sx:{overflowWrap:"anywhere"},children:e.content})]}),e.code&&s.jsxs(a,{children:[s.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"コード"}),s.jsx(d,{variant:"outlined",sx:{whiteSpace:"pre-wrap",overflow:"auto",p:1},children:e.code})]}),e.images_path.length>0&&s.jsxs(a,{children:[s.jsx(t,{variant:"h6",sx:{fontWeight:600,mb:1},children:"画像"}),s.jsx(x,{container:!0,spacing:2,children:e.images_path.map((r,i)=>s.jsx(x,{size:{xs:6,sm:4,md:3},children:s.jsx("iframe",{src:r,className:"w-full h-[250px]"})},i))})]})]}),_=()=>{const e=W(),i=N().state,p=P(),[l,f]=c.useState(null),[g,y]=c.useState(!1),[w,v]=c.useState(i),[D,S]=c.useState(!!i),b=h("getallanswers",e.id),G=h("getquestionbyid",e.id);return c.useEffect(()=>{console.log("Welcome to GDGoC TMU. Now loading..."),(async()=>{const n=await j(b);y(!0),f(n),console.log("Fetching successfully completed.")})()},[]),c.useEffect(()=>{i||(async()=>{const n=await j(G);S(!0),v(n)})()},[]),s.jsxs(q,{children:[s.jsxs(a,{sx:{my:3},children:[s.jsx(C,{variant:"outlined",size:"small",sx:{my:2},onClick:()=>p("/questions"),children:"質問一覧へ"}),s.jsxs(a,{sx:{ml:1},children:[s.jsx(t,{variant:"h6",sx:{mb:1,fontWeight:600},children:"質問"}),s.jsx(t,{variant:"body2",color:"textSecondary",children:"Powered by GDGoC TMU"})]})]}),s.jsxs(E,{children:[D?s.jsx(m,{BodyConfig:w}):s.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:s.jsx(u,{})}),g?l.length>0?l.map((o,n)=>{const A={title:"回答"+(n+1),content:o.content,code:o.code,images_path:o.images_path};return s.jsx(m,{BodyConfig:A},n)}):s.jsx(Q,{children:"まだ回答はありません"}):s.jsx(a,{sx:{display:"flex",width:"100%",justifyContent:"center"},children:s.jsx(u,{})})]})]})};export{_ as default};
